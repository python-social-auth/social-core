language: python
sudo: false
env:
  global:
    - TEST_REQUIREMENTS=social_core/tests/requirements-base.txt
python:
  - "2.7"
matrix:
  include:
    - python: "pypy"
    - python: "3.3"
    - python: "3.4"
    - python: "3.5"
addons:
  apt:
    packages:
      - libxmlsec1-dev
      - swig
install:
  - "travis_retry pip install -r $TEST_REQUIREMENTS"
  - "travis_retry python setup.py nosetests -q --collect-only"
script:
  - "python setup.py nosetests --where=social_core/tests --with-coverage --cover-package=social_core"
